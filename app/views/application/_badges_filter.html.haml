%span
  #{desc}
%img.filter{ src: "assets/#{image_name}", onclick: "toggleVisible('badges_filter')"}
.filter_div.hidden.badges_filter_div{id: 'badges_filter'}
  .badge_filter_spacer
    xxx
  .badge_filter_opt_prompt
    Must Be
  .badge_filter_opt_prompt
    Must Not Be
  .badge_filter_opt_prompt
    Anything
  - get_badge_filters.each do |entry|
    .badge_filters_row
      .badge_filters{ style: "display: flex; gap: 1em;" }
        - text = entry.is_a?(Array) ? entry.join(" / ") : entry
        - id_base = entry.is_a?(Array) ? entry.join("_OR_") : entry
        - id_safe = id_base.gsub(" ", "_").gsub('.','_')
        .badge_filter{ id: "badge_filter_#{id_safe}", style: "display: inline-flex; align-items: center; gap: 0.5em;" }
          %span.badge_filter_prompt= text
          - ["Must Be", "Must Not Be", "Anything"].each do |choice|
            %label.radio_option_wrapper
              = radio_button_tag "badge_filter_#{id_safe}", choice, (choice == "Anything")
              - # = choice
  %button.filter.top_spacer_5px{onclick: 'apply_filter()'}
    Apply
